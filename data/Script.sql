-- EVRAK definition

-- Drop table

-- DROP TABLE EVRAK;

CREATE TABLE EVRAK ( EVRAK_ID INTEGER NOT NULL, EVRAK_DOSYA_YOLU VARCHAR(255) NOT NULL, CONSTRAINT PK_EVRAK PRIMARY KEY (EVRAK_ID));


-- KULLANICI definition

-- Drop table

-- DROP TABLE KULLANICI;

CREATE TABLE KULLANICI ( ID INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, KULLANICI_ADI VARCHAR(50) NOT NULL, SIFRE VARCHAR(50) NOT NULL, CONSTRAINT PK_KULLANICI PRIMARY KEY (ID));


-- OKUL definition

-- Drop table

-- DROP TABLE OKUL;

CREATE TABLE OKUL ( OKUL_ID INTEGER NOT NULL, OKUL_ADI VARCHAR(50) NOT NULL, OKUL_TURU VARCHAR(10) NOT NULL, CONSTRAINT PK_OKUL PRIMARY KEY (OKUL_ID));


-- REFERANS definition

-- Drop table

-- DROP TABLE REFERANS;

CREATE TABLE REFERANS ( REFERANS_ID INTEGER NOT NULL, AD_SOYAD VARCHAR(50) NOT NULL, TELEFON_NO VARCHAR(11) NOT NULL, KURUM VARCHAR(100) NOT NULL, CONSTRAINT PK_REFERANS PRIMARY KEY (REFERANS_ID));


-- IZIN definition

-- Drop table

-- DROP TABLE IZIN;

CREATE TABLE IZIN ( IZIN_ID INTEGER NOT NULL, STAJYER_ID INTEGER, IZIN_BASLANGIC DATE, IZIN_BITIS DATE, IZIN_SEBEP VARCHAR(255), CONSTRAINT PK_IZIN PRIMARY KEY (IZIN_ID));
CREATE INDEX FK_IZIN_1 ON IZIN (STAJYER_ID);


-- STAJYERLER definition

-- Drop table

-- DROP TABLE STAJYERLER;

CREATE TABLE STAJYERLER ( STAJYER_ID INTEGER NOT NULL, AD_SOYAD VARCHAR(50) NOT NULL, ADRES VARCHAR(255) NOT NULL, TELEFON_NO VARCHAR(50) NOT NULL, IBAN_NO VARCHAR(40) NOT NULL, DOGUM_TARIHI DATE NOT NULL, OKUL_ID INTEGER NOT NULL, REFERANS_ID INTEGER NOT NULL, TC_KIMLIK VARCHAR(11) NOT NULL, SINIF INTEGER NOT NULL, BOLUM VARCHAR(30) NOT NULL, BASLANGIC_TARIHI DATE NOT NULL, BITIS_TARIHI DATE NOT NULL, GIRIS_EVRAK_ID INTEGER, CIKIS_EVRAK_ID INTEGER, HESAPLANAN_IS_GUNU BIGINT, IZIN_ID INTEGER, CONSTRAINT PK_STAJYERLER PRIMARY KEY (STAJYER_ID), CONSTRAINT UNQ1_STAJYERLER UNIQUE (TC_KIMLIK));
CREATE INDEX FK_STAJYERLER_1 ON STAJYERLER (OKUL_ID);
CREATE INDEX FK_STAJYERLER_2 ON STAJYERLER (REFERANS_ID);
CREATE INDEX FK_STAJYERLER_3 ON STAJYERLER (GIRIS_EVRAK_ID);
CREATE INDEX FK_STAJYERLER_4 ON STAJYERLER (CIKIS_EVRAK_ID);
CREATE INDEX FK_STAJYERLER_5 ON STAJYERLER (IZIN_ID);


-- STAJ_UYGUNLUK_BELGE definition

-- Drop table

-- DROP TABLE STAJ_UYGUNLUK_BELGE;

CREATE TABLE STAJ_UYGUNLUK_BELGE ( BELGE_ID INTEGER NOT NULL, SEHIR VARCHAR(36), FAKULTE VARCHAR(36), OGRENCI_NO VARCHAR(36), STAJYER_ID INTEGER, CONSTRAINT PK_STAJ_UYGUNLUK_BELGE PRIMARY KEY (BELGE_ID));
CREATE INDEX FK_STAJ_UYGUNLUK_BELGE_1 ON STAJ_UYGUNLUK_BELGE (STAJYER_ID);


-- IZIN foreign keys

ALTER TABLE IZIN ADD CONSTRAINT FK_IZIN_1 FOREIGN KEY (STAJYER_ID) REFERENCES STAJYERLER(STAJYER_ID);


-- STAJYERLER foreign keys

ALTER TABLE STAJYERLER ADD CONSTRAINT FK_STAJYERLER_1 FOREIGN KEY (OKUL_ID) REFERENCES OKUL(OKUL_ID);
ALTER TABLE STAJYERLER ADD CONSTRAINT FK_STAJYERLER_2 FOREIGN KEY (REFERANS_ID) REFERENCES REFERANS(REFERANS_ID);
ALTER TABLE STAJYERLER ADD CONSTRAINT FK_STAJYERLER_3 FOREIGN KEY (GIRIS_EVRAK_ID) REFERENCES EVRAK(EVRAK_ID);
ALTER TABLE STAJYERLER ADD CONSTRAINT FK_STAJYERLER_4 FOREIGN KEY (CIKIS_EVRAK_ID) REFERENCES EVRAK(EVRAK_ID);
ALTER TABLE STAJYERLER ADD CONSTRAINT FK_STAJYERLER_5 FOREIGN KEY (IZIN_ID) REFERENCES IZIN(IZIN_ID);


-- STAJ_UYGUNLUK_BELGE foreign keys

ALTER TABLE STAJ_UYGUNLUK_BELGE ADD CONSTRAINT FK_STAJ_UYGUNLUK_BELGE_1 FOREIGN KEY (STAJYER_ID) REFERENCES STAJYERLER(STAJYER_ID);